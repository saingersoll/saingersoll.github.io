<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sofia Ingersoll">
<meta name="dcterms.date" content="2023-12-14">
<meta name="description" content="Throughout the month of February in 2021, the state of Texas suffered a major power crisis, which came about as a result of three severe winter storms sweeping across the United States on February 10–11, 13–17, and 15–20.In particular, we will use the VNP46A1 to detect differences in night lights before and after the storm to identify areas that lost electric power. To determine the number of homes that lost power, we will link (spatially join) these areas with OpenStreetMap data on buildings and roads. By linking our analysis with data from the US Census Bureau we can investigate the potential socioeconomic factors that influenced recovery.">

<title>Sofia Ingersoll - Homes Impacted by the Houston, TX Blackout (2021)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Sofia Ingersoll</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html" rel="" target="">
 <span class="menu-text">My Blog</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">Homes Impacted by the Houston, TX Blackout (2021)</h1>
                  <div>
        <div class="description">
          Throughout the month of February in 2021, the state of Texas suffered a major power crisis, which came about as a result of three severe winter storms sweeping across the United States on February 10–11, 13–17, and 15–20.In particular, we will use the VNP46A1 to detect differences in night lights before and after the storm to identify areas that lost electric power. To determine the number of homes that lost power, we will link (spatially join) these areas with OpenStreetMap data on buildings and roads. By linking our analysis with data from the US Census Bureau we can investigate the potential socioeconomic factors that influenced recovery.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Geospatial Analysis</div>
                <div class="quarto-category">Power Outage</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Sofia Ingersoll </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">December 14, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#libraries" id="toc-libraries" class="nav-link" data-scroll-target="#libraries">Libraries</a></li>
  <li><a href="#finding-locations-of-blackouts" id="toc-finding-locations-of-blackouts" class="nav-link" data-scroll-target="#finding-locations-of-blackouts">Finding Locations of Blackouts</a>
  <ul class="collapse">
  <li><a href="#night-lights-data" id="toc-night-lights-data" class="nav-link" data-scroll-target="#night-lights-data">Night Lights Data</a></li>
  <li><a href="#reading-viirs-data" id="toc-reading-viirs-data" class="nav-link" data-scroll-target="#reading-viirs-data">Reading VIIRS Data</a></li>
  <li><a href="#combining-tiles" id="toc-combining-tiles" class="nav-link" data-scroll-target="#combining-tiles">Combining Tiles</a></li>
  </ul></li>
  <li><a href="#making-a-mask" id="toc-making-a-mask" class="nav-link" data-scroll-target="#making-a-mask">Making a Mask</a></li>
  <li><a href="#vectorized-mask" id="toc-vectorized-mask" class="nav-link" data-scroll-target="#vectorized-mask">Vectorized Mask</a></li>
  <li><a href="#cropping-a-vectorized-map-for-region-of-interest" id="toc-cropping-a-vectorized-map-for-region-of-interest" class="nav-link" data-scroll-target="#cropping-a-vectorized-map-for-region-of-interest">Cropping a Vectorized Map for Region of Interest</a>
  <ul class="collapse">
  <li><a href="#special-feature-collection" id="toc-special-feature-collection" class="nav-link" data-scroll-target="#special-feature-collection">Special Feature Collection</a></li>
  <li><a href="#making-a-mask-1" id="toc-making-a-mask-1" class="nav-link" data-scroll-target="#making-a-mask-1">Making a Mask</a></li>
  </ul></li>
  <li><a href="#excluding-highways-from-the-blackout-map" id="toc-excluding-highways-from-the-blackout-map" class="nav-link" data-scroll-target="#excluding-highways-from-the-blackout-map">Excluding Highways from the Blackout Map</a>
  <ul class="collapse">
  <li><a href="#roads-data" id="toc-roads-data" class="nav-link" data-scroll-target="#roads-data">Roads Data</a></li>
  <li><a href="#reading-in-highway-data" id="toc-reading-in-highway-data" class="nav-link" data-scroll-target="#reading-in-highway-data">Reading in Highway Data</a></li>
  <li><a href="#creating-a-buffer" id="toc-creating-a-buffer" class="nav-link" data-scroll-target="#creating-a-buffer">Creating a Buffer</a></li>
  </ul></li>
  <li><a href="#finding-homes-impacted-by-blackouts" id="toc-finding-homes-impacted-by-blackouts" class="nav-link" data-scroll-target="#finding-homes-impacted-by-blackouts">Finding Homes Impacted by Blackouts</a>
  <ul class="collapse">
  <li><a href="#buildings-data" id="toc-buildings-data" class="nav-link" data-scroll-target="#buildings-data">Buildings Data</a></li>
  <li><a href="#quantifying-homes-within-blackout-areas" id="toc-quantifying-homes-within-blackout-areas" class="nav-link" data-scroll-target="#quantifying-homes-within-blackout-areas">Quantifying Homes Within Blackout Areas</a></li>
  </ul></li>
  <li><a href="#investigating-socioeconomic-factors" id="toc-investigating-socioeconomic-factors" class="nav-link" data-scroll-target="#investigating-socioeconomic-factors">Investigating Socioeconomic Factors</a>
  <ul class="collapse">
  <li><a href="#socioeconomic-data" id="toc-socioeconomic-data" class="nav-link" data-scroll-target="#socioeconomic-data">Socioeconomic Data</a></li>
  <li><a href="#read-in-socioeconomic-data-with-sf" id="toc-read-in-socioeconomic-data-with-sf" class="nav-link" data-scroll-target="#read-in-socioeconomic-data-with-sf">Read in Socioeconomic Data with sf</a></li>
  <li><a href="#figure-1-census-tracts-median-income-examining-blackout-impacts" id="toc-figure-1-census-tracts-median-income-examining-blackout-impacts" class="nav-link" data-scroll-target="#figure-1-census-tracts-median-income-examining-blackout-impacts">Figure 1: Census Tracts Median Income Examining Blackout Impacts</a></li>
  <li><a href="#figure-2-median-income-examining-blackout-vs-no-blackouts" id="toc-figure-2-median-income-examining-blackout-vs-no-blackouts" class="nav-link" data-scroll-target="#figure-2-median-income-examining-blackout-vs-no-blackouts">Figure 2: Median Income &amp; Examining Blackout vs No Blackouts</a></li>
  <li><a href="#figure-3-histogram-median-income-distribution-examining-blackout-vs-no-blackouts" id="toc-figure-3-histogram-median-income-distribution-examining-blackout-vs-no-blackouts" class="nav-link" data-scroll-target="#figure-3-histogram-median-income-distribution-examining-blackout-vs-no-blackouts">Figure 3: Histogram: Median Income Distribution &amp; Examining Blackout vs No Blackouts</a></li>
  <li><a href="#figure-4-boxplot-median-income-distribution-examining-blackout-vs-no-blackouts" id="toc-figure-4-boxplot-median-income-distribution-examining-blackout-vs-no-blackouts" class="nav-link" data-scroll-target="#figure-4-boxplot-median-income-distribution-examining-blackout-vs-no-blackouts">Figure 4: Boxplot Median Income Distribution &amp; Examining Blackout vs No Blackouts</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">




<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>Throughout the month of February in 2021, the state of Texas suffered a major power crisis, which came about as a result of three severe winter storms sweeping across the United States on February 10–11, 13–17, and 15–20.”<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> For more background, check out these <a href="https://www.youtube.com/watch?v=08mwXICY4JM&amp;ab_channel=PracticalEngineering">engineering</a> and <a href="https://www.youtube.com/watch?v=Zcrsgdl_hP0&amp;ab_channel=Vox">political</a> perspectives. For this project, we will estimate the number of homes in Houston that lost power as a result of the first two storms and investigate if socioeconomic factors are predictors of communities recovery from a power outage. Our analysis will be based on remotely-sensed night lights data, acquired from the <a href="https://en.wikipedia.org/wiki/Visible_Infrared_Imaging_Radiometer_Suite">Visible Infrared Imaging Radiometer Suite (VIIRS)</a> onboard the Suomi satellite. In particular, we will use the VNP46A1 to detect differences in night lights before and after the storm to identify areas that lost electric power. To determine the number of homes that lost power, we will link (spatially join) these areas with <a href="https://www.openstreetmap.org/#map=4/38.01/-95.84">OpenStreetMap</a> data on buildings and roads. By linking our analysis with data from the US Census Bureau we can investigate the potential socioeconomic factors that influenced recovery.</p>
<section id="learning-objectives" class="level5">
<h5 class="anchored" data-anchor-id="learning-objectives">Learning objectives:</h5>
<ul>
<li>load vector/raster data<br>
</li>
<li>simple raster operations<br>
</li>
<li>simple vector operations<br>
</li>
<li>spatial joins</li>
</ul>
</section>
</section>
<section id="libraries" class="level2">
<h2 class="anchored" data-anchor-id="libraries">Libraries</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading in Libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tmap)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(terra)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stars)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="finding-locations-of-blackouts" class="level1">
<h1>Finding Locations of Blackouts</h1>
<section id="night-lights-data" class="level3">
<h3 class="anchored" data-anchor-id="night-lights-data">Night Lights Data</h3>
<p>Use NASA’s Worldview to explore the data around the day of the storm. There are several days with too much cloud cover to be useful, but 2021-02-07 and 2021-02-16 provide two clear, contrasting images to visualize the extent of the power outage in Texas.</p>
<p>VIIRS data is distributed through NASA’s <a href="https://ladsweb.modaps.eosdis.nasa.gov/">Level-1 and Atmospheric Archive &amp; Distribution System Distributed Active Archive Center (LAADS DAAC)</a>. Many NASA Earth data products are distributed in 10x10 degree tiles in sinusoidal equal-area projection. Tiles are identified by their horizontal and vertical position in the grid. Houston lies on the border of tiles h08v05 and h08v06. We therefore need to download two tiles per date.</p>
<ul>
<li><code>VNP46A1.A2021038.h08v05.001.2021039064328.h5.tif</code>: tile h08v05, collected on 2021-02-07</li>
<li><code>VNP46A1.A2021038.h08v06.001.2021039064329.h5.tif</code>: tile h08v06, collected on 2021-02-07</li>
<li><code>VNP46A1.A2021047.h08v05.001.2021048091106.h5.tif</code>: tile h08v05, collected on 2021-02-16</li>
<li><code>VNP46A1.A2021047.h08v06.001.2021048091105.h5.tif</code>: tile h08v06, collected on 2021-02-16</li>
</ul>
</section>
<section id="reading-viirs-data" class="level2">
<h2 class="anchored" data-anchor-id="reading-viirs-data">Reading VIIRS Data</h2>
<p>Reading in night lights tiles using <code>stars</code>:</p>
</section>
<section id="combining-tiles" class="level2">
<h2 class="anchored" data-anchor-id="combining-tiles">Combining Tiles</h2>
<p>Combining tiles into a single <code>stars</code> object for each date (2021-02-07 and 2021-02-16).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combining tiles for each date as a stars object</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>feb_07 <span class="ot">&lt;-</span> <span class="fu">st_mosaic</span>(VIIRS_05_07, VIIRS_06_07)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>feb_16 <span class="ot">&lt;-</span> <span class="fu">st_mosaic</span>(VIIRS_05_16, VIIRS_06_16)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="making-a-mask" class="level1">
<h1>Making a Mask</h1>
<p>To find the change in night-light intensity (presumably) caused by the storm, we must make a mask to conceal the data that experienced a drop less than 200 nW cm<sup>-2</sup>sr<sup>-1</sup>. This reclassification of the difference raster was done assuming that any location that experienced a drop of more than 200 nW cm<sup>-2</sup>sr<sup>-1</sup> experienced a blackout. All <strong>locations not considered blackout zones</strong> were assigned <code>NA.</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a mask to identify locations that experienced a drop greater than 200 nW cm-2sr-1</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>blackout_locations <span class="ot">&lt;-</span> (feb_07 <span class="sc">-</span> feb_16) <span class="sc">&gt;</span> <span class="dv">200</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Assigning non-blackout locations to be NA values</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>blackout_locations[blackout_locations <span class="sc">==</span> <span class="cn">FALSE</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="vectorized-mask" class="level1">
<h1>Vectorized Mask</h1>
<p>To vectorize the blackout mask, apply <code>st_as_sf()</code> and correct invalid geometries by piping <code>st_make_valid</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transforming the mask into a vector and fixing improper geometries</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>vector_blackout_locations <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(blackout_locations) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_make_valid</span>(vector_blackout_locations)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Displays CRS of vector data</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#glimpse(crs(vector_blackout_locations))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cropping-a-vectorized-map-for-region-of-interest" class="level1">
<h1>Cropping a Vectorized Map for Region of Interest</h1>
<p>The Houston metropolitan area was initially defined using the following coordinates:</p>
<p><code>(-96.5, 29), (-96.5, 30.5), (-94.5, 30.5), (-94.5, 29)</code></p>
<p>These coordinates were then turned into a polygon using <code>st_polygon</code> and further converted into a simple feature collection (sfc) using <code>st_sfc()</code>. The CRS of this sfc was then converted to match the map to perform the crop.</p>
<section id="special-feature-collection" class="level2">
<h2 class="anchored" data-anchor-id="special-feature-collection">Special Feature Collection</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining the Region of Interest</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>houston <span class="ot">&lt;-</span> <span class="fu">st_polygon</span>(<span class="fu">list</span>(<span class="fu">rbind</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">96.5</span>, <span class="dv">29</span>),</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">c</span>(<span class="sc">-</span><span class="fl">96.5</span>, <span class="fl">30.5</span>),</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">c</span>(<span class="sc">-</span><span class="fl">94.5</span>, <span class="fl">30.5</span>),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">c</span>(<span class="sc">-</span><span class="fl">96.5</span>, <span class="dv">29</span>))))</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a sfc and assigning the CRS to match the vector blackout data</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>houston <span class="ot">&lt;-</span> <span class="fu">st_sfc</span>(houston) <span class="sc">%&gt;%</span> </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_set_crs</span>(<span class="dv">4326</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_make_valid</span>()</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Confirms last step was successful</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">#glimpse(crs(houston))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="making-a-mask-1" class="level2">
<h2 class="anchored" data-anchor-id="making-a-mask-1">Making a Mask</h2>
<p>A cropped version of the blackout map was created using <code>st_crop</code> , this mask of the region of interest was then re-projected to EPSG:3083 (NAD83 / Texas Centric Albers Equal Area).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># cropping blackout locations to the houston dimensions</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>houston_blackout_mask <span class="ot">&lt;-</span> <span class="fu">st_crop</span>(vector_blackout_locations, houston)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-projecting to match the maps</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>houston_blackout_mask <span class="ot">&lt;-</span> houston_blackout_mask <span class="sc">%&gt;%</span> </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="dv">3083</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_make_valid</span>(houston_blackout_mask)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Houston_Blackout_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="excluding-highways-from-the-blackout-map" class="level1">
<h1>Excluding Highways from the Blackout Map</h1>
<section id="roads-data" class="level3">
<h3 class="anchored" data-anchor-id="roads-data">Roads Data</h3>
<p>Typically highways account for a large portion of the night lights observable from space (see Google’s <a href="https://earth.google.com/web/@27.44405464,-84.7693044,206.63660162a,8916361.52264659d,35y,0h,0t,0r/data=CiQSIhIgMGY3ZTJkYzdlOGExMTFlNjk5MGQ2ZjgxOGQ2OWE2ZTc">Earth at Night</a>). To minimize falsely identifying areas with reduced traffic as areas without power, we will ignore areas near highways.</p>
<p><a href="https://planet.openstreetmap.org/">OpenStreetMap (OSM)</a> is a collaborative project which creates publicly available geographic data of the world. Ingesting this data into a database where it can be subsetted and processed is a large undertaking. Fortunately, third party companies redistribute OSM data. We used <a href="https://download.geofabrik.de/">Geofabrik’s download sites</a> to retrieve a shapefile of all highways in Texas and prepared a Geopackage (<code>.gpkg</code> file) containing just the subset of roads that intersect the Houston metropolitan area.&nbsp;</p>
<ul>
<li><code>gis_osm_roads_free_1.gpkg</code></li>
</ul>
</section>
<section id="reading-in-highway-data" class="level3">
<h3 class="anchored" data-anchor-id="reading-in-highway-data">Reading in Highway Data</h3>
<p>Using <code>sf</code> package and <code>st_read()</code> to load in the highway data. Additionally, SQL, a language used for storing, manipulating, and retrieving data, was employed to optimize our workflow. A SQL query is describes the mechanism in which the data will be read in. The SQL query is stored as query below. The data was then re-projected to match the CRS of the map data EPSG:3083</p>
</section>
<section id="creating-a-buffer" class="level3">
<h3 class="anchored" data-anchor-id="creating-a-buffer">Creating a Buffer</h3>
<p>Using <code>st_buffer</code> to create an undissolved area within 200 m of all highways and <code>st_union</code> to dissolve the buffers.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a 200 m buffer and dissolving it as a single object</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>highway_buffer <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(highways, <span class="at">dist =</span> <span class="dv">200</span>) </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># combines the geometries within the buffer as one geometric polygon</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>highway_buffer <span class="ot">&lt;-</span> <span class="fu">st_union</span>(highway_buffer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A preliminary check to see if the buffer was successful.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Houston_Blackout_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Now to combine the cropped vector blackout data of Houston with the highway buffer we created above using <code>st_difference</code>.</p>
<p>We expect a few observations to be removed, but to be relatively the same length.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Houston_Blackout_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="finding-homes-impacted-by-blackouts" class="level1">
<h1>Finding Homes Impacted by Blackouts</h1>
<section id="buildings-data" class="level3">
<h3 class="anchored" data-anchor-id="buildings-data">Buildings Data</h3>
<p>We can also obtain building data from OpenStreetMap. We downloaded from Geofabrick and prepared a GeoPackage containing only houses in the Houston metropolitan area.</p>
<ul>
<li><code>gis_osm_buildings_a_free_1.gpkg</code></li>
</ul>
</section>
<section id="quantifying-homes-within-blackout-areas" class="level2">
<h2 class="anchored" data-anchor-id="quantifying-homes-within-blackout-areas">Quantifying Homes Within Blackout Areas</h2>
<p>Using the <code>st_intersection</code> function to filter for homes beyond the buffer that were effected by blackouts to estimate the number of homes effected by the blackout to be 168,873.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 168874</code></pre>
</div>
</div>
<p>Preliminary visualization of Houston Homes effected by the blackout</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Houston_Blackout_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="investigating-socioeconomic-factors" class="level1">
<h1>Investigating Socioeconomic Factors</h1>
<section id="socioeconomic-data" class="level3">
<h3 class="anchored" data-anchor-id="socioeconomic-data">Socioeconomic Data</h3>
<p>We cannot readily get socioeconomic information for every home, so instead we obtained data from the <a href="https://www.census.gov/programs-surveys/acs">U.S. Census Bureau’s American Community Survey</a> for census tracts in 2019. The <em>folder</em> <code>ACS_2019_5YR_TRACT_48.gdb</code> is an ArcGIS <a href="https://desktop.arcgis.com/en/arcmap/latest/manage-data/administer-file-gdbs/file-geodatabases.htm">“file geodatabase”</a>, a multi-file proprietary format that’s roughly analogous to a GeoPackage file.</p>
<p>The geodatabase contains a layer holding the geometry information, separate from the layers holding the ACS attributes. You have to combine the geometry with the attributes to get a feature layer that <code>sf</code> can use.</p>
</section>
<section id="read-in-socioeconomic-data-with-sf" class="level3">
<h3 class="anchored" data-anchor-id="read-in-socioeconomic-data-with-sf">Read in Socioeconomic Data with sf</h3>
<p>Using <code>st_read()</code> to load the geodatabase layers and <code>st_layers()</code> to explore the contents of the geodatabase. Each layer contains a subset of the fields documents in the <a href="https://www2.census.gov/geo/docs/maps-data/data/tiger/prejoined/ACSMetadata2011.txt">ACS metadata</a>. Geometries are stored in the <code>ACS_2019_5YR_TRACT_48_TEXAS</code> layer, income data is stored in the <code>X19_INCOME</code> layer, and the median income field <code>B19013e1.</code></p>
</section>
<section id="figure-1-census-tracts-median-income-examining-blackout-impacts" class="level2">
<h2 class="anchored" data-anchor-id="figure-1-census-tracts-median-income-examining-blackout-impacts">Figure 1: Census Tracts Median Income Examining Blackout Impacts</h2>
<ul>
<li>A map of median income by census tract, designating which tracts had blackouts with bubbles.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">'plot'</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a map of median income by census tract, designating which tracts had blackouts</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(houston_income) <span class="sc">+</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="at">fill =</span> <span class="st">"median_income"</span>, </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Median Income"</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"magma"</span>) <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_compass</span>( <span class="at">type =</span> <span class="st">'rose'</span>, </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">lw =</span> <span class="fl">0.</span>,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_bubbles</span>(<span class="at">size =</span> <span class="fl">0.6</span>,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">col =</span> <span class="st">'black'</span>,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill_alpha.scale =</span> <span class="st">'black'</span>) <span class="sc">+</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_scale_bar</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">'right'</span>,<span class="st">'bottom'</span>)) <span class="sc">+</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_title</span>(<span class="at">text =</span> <span class="st">"Median Census Tract Income in Houston Affected by Blackouts"</span>, <span class="at">size =</span> <span class="dv">1</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Houston_Blackout_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="figure-2-median-income-examining-blackout-vs-no-blackouts" class="level2">
<h2 class="anchored" data-anchor-id="figure-2-median-income-examining-blackout-vs-no-blackouts">Figure 2: Median Income &amp; Examining Blackout vs No Blackouts</h2>
<ul>
<li>A map of median income by census tract, designating which tracts had blackouts with bubbles.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#census tracts with blackouts</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>blackout_map <span class="ot">&lt;-</span>  <span class="fu">tm_shape</span>(trac_with_blackout) <span class="sc">+</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="at">fill =</span> <span class="st">"median_income"</span>, </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Median Income ($)"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"magma"</span>) <span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>() <span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_title</span>(<span class="at">text =</span> <span class="st">"Median Income for Census Tracts With Blackouts"</span>) <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tm_scalebar</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">'right'</span>,<span class="st">'bottom'</span>)) <span class="sc">+</span> </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_compass</span>( <span class="at">type =</span> <span class="st">'rose'</span>, </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">lw =</span> <span class="fl">0.</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">size =</span> <span class="dv">2</span>) </span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">#census tracts with no blackouts   </span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>no_blackout_map <span class="ot">&lt;-</span>  <span class="fu">tm_shape</span>(no_blackout) <span class="sc">+</span> </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="at">fill =</span> <span class="st">"median_income"</span>, </span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Median Income ($)"</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"magma"</span>) <span class="sc">+</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>() <span class="sc">+</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_title</span>(<span class="at">text =</span> <span class="st">"Median Income for Census Tracts Without Blackouts"</span>) <span class="sc">+</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tm_scalebar</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">'right'</span>,<span class="st">'bottom'</span>)) <span class="sc">+</span> </span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_compass</span>( <span class="at">type =</span> <span class="st">'rose'</span>, </span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>              <span class="at">lw =</span> <span class="fl">0.</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>              <span class="at">size =</span> <span class="dv">2</span>) </span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(blackout_map, no_blackout_map)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Houston_Blackout_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="figure-3-histogram-median-income-distribution-examining-blackout-vs-no-blackouts" class="level2">
<h2 class="anchored" data-anchor-id="figure-3-histogram-median-income-distribution-examining-blackout-vs-no-blackouts">Figure 3: Histogram: Median Income Distribution &amp; Examining Blackout vs No Blackouts</h2>
<ul>
<li>Histogram of the distribution of income in impacted and unimpacted tracts.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="Houston_Blackout_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   [1]  77604 122698 251618 124557 116984 207667 166022 210347  97600 206021
  [11] 270803 144875 109500  99438 144428 130827  84398  91936 147308 156364
  [21] 195435  80333 130443 127596  71050  72491  94049 141046     NA  99354
  [31] 155561 153485 194259 171843 160758 105063 146801 171376 123042 155032
  [41] 102956 105276 167909 143914  79011 113251 285336 120269  97497 150902
  [51] 137227 147377 271990 183323 123457 180272 106271  68402 106499  89528
  [61]  93827  96987  97564  79298  83854 231997 139694 120278  91799  70595
  [71]  71955 164084  74305  94071 105675 112500 112776 105000 134407  85958
  [81]     NA  87784 101083 124443 137279 159342 133270 124533 127060  95910
  [91] 102712 122952  68382 182575 175033 204551 223788  97617 102583  79769
 [101]  90200  99652 122117 135886 152528 104844 141465 167621 111498 150045
 [111] 114864 121408     NA 153458 140505 172804 201814 112059 203226 131411
 [121] 123757 182732 122454 149065 172500 126820 134434 121303 165855 127145
 [131] 100251 161915 154839 112971 121222  98694 161635 240708 170141  78354
 [141] 112172 179617 136480 177349 135675 236507 149160 281841 160208 117072
 [151]  99858 101406 140741 140624 233284 136146 103906  69965 201783 286196
 [161] 296770 172682 334038 128174 109064 149057 126371 111664 113699 106406
 [171] 105827  75674  91453 155793  81261  85091 132480 103532 138824 163189
 [181]  84884 117055 113489 149274  85429  84580 113465 156860  80662  55777
 [191]  94180 106653 134703 220372  99813 147221 153137  73910  76226 167653
 [201]  64691 128601  92213 111166 104597 155423  71441 119603 163250     NA
 [211]  75086  87187  99053 128531  86458  88641 171836  98619 109677 103668
 [221]  75872  95956  89359  65948     NA 142778 122889  80081  79092  85276
 [231]  62488  95764 119249 106888  79214  84769 143343  57496  80469 121629
 [241]  80956 109119  86855 168538 127058 125958  96920 126343 144954 162487
 [251] 161000 109671 186210 125455 107944 110468 216101 150143 136948 204456
 [261] 252635 168986 129002 182983 156126 129458 189893 133734 117389 105859
 [271] 143158 110222  65799  68145  68289  79021  85131  89187 191226 130798
 [281] 161549 123344 109878  98666  93896 127919 204942  84764  82517 194775
 [291] 143341 148118 166052 174244 227594     NA 224378 127946 215203  79778
 [301] 154503 220122  63797  99500 126004 208311  99014 143312  69282 284656
 [311] 200786  90100  99031 168134 106726 137400 115791  93402  90106     NA
 [321] 294069 128978 104749 137921 113827 116880 115071 212522 127066 126713
 [331] 108030 176294 104707 239789     NA 151550 146770 183378  71402 138316
 [341] 124003 136340  89057  64728  94112 132306 132417 124416 117791  97869
 [351]  96333 192929 231622 180296 160456 115344 125783 160853 162340     NA
 [361] 157292  78772 102062 219654 224741 166361 153235  97082 194616 261450
 [371]  90499 195312 250961  75432 103183 230874  81786 129193 102307  87109
 [381] 135199 172402 222097 165274  97084  98632 122731 202099 236901  99158
 [391]  95047 124543  86985 110537 120799 130358 213668 136226 101549 138678
 [401] 121737 102274 120962 159968 120413 193099 247217 143563 143842 150694
 [411] 170561 109594 149242 134653 118443 203831 203546 117540 143727 130368
 [421] 169113  96179 137652 111047 172971 163477 128906  92717 141853 180243
 [431]  93181     NA 124947  84550  87612  89911 105777 180097 154823 102265
 [441] 141656 188661 101061 128425 262477 134261 142707 206035 128344  71338
 [451]  89925 117803 128632 117773 121221 128154 215284 138294  83565 104556
 [461] 124431 105766 100577 121756 125807 125810 211328 203958 177602 227655
 [471]  83872 106999  73695 109600 162566 121492 138298 113051 100439 105942
 [481] 108189 190203 337733 301584 106695     NA 288625 137637 359742 174010
 [491] 305104 397701 193922 126817 145682 292745 189281 202373 167278 181168
 [501] 116002 119029 131285 187839 222446 123293 101658  95442  82788 141469
 [511] 170253 102723  73501  84485 184938 127459 201490 127331 162938 155316
 [521] 285633 114400 101211 102494  93044 118990  98943 154635  99202 104257
 [531]  78289 216033 321708 296635 139724 326855 138606  65179  99602  76093
 [541]  82402  98520  85340  98750  78494 105545 124706 142555 176256 185496
 [551] 145615 119461 131939  78884  79861  77639  78074  88219  69393 144822
 [561] 239813 113522 192745  57435  79927  84274 411112 183617 145596 206040
 [571]  92713 100671 150019  69021  57975  86531 112110  59809 137113  99591
 [581]  81139 264814     NA 116740  85825 120809  72188 132083 163610 153087
 [591] 161643 223403 105202 107379  73516  67886  66352     NA 169391 179107
 [601]  88300 112527  96303  99673  74689  78190  91426  83209  77077 221982
 [611]  58612  76028 101975 107291 148429  90563 240183 113852 101783 144687
 [621] 336523 125145 158380 159766  80319 174813 108692 148982  89093 262453
 [631] 159799     NA 101303 228000 147978 107191 130365 156316 111339 177075
 [641] 108017  74800  96382 109586 108984  71236  65623  53847  77927  58740
 [651]  61983 164070 123769 172530  69489  73276  85847  87214  71240 114726
 [661] 144119  73561 113213 109693  55183 119047  55914 144273     NA 147492
 [671] 113139 107089  82782 121939 137213  74699  75229  88141 180808  89564
 [681] 150917  84198 124050 140400  77174     NA 206931 136987 133335 122097
 [691] 111157  94165     NA 155551 122413 101344 107428 123658 138557 196019
 [701] 182119 102175 177713 144182 172444 136517 201321     NA 196136 240234
 [711] 197320  93036 129442 135920 183629  99242  65592 141932  70418  79090
 [721]  94814 134681  94241 147077 154341 183383 209967 160898 191952 147334
 [731] 178241 175954 174817 212959 102414 104375 257924 173935 101483 131392
 [741] 120026 125502 155700 101857 172852 278667 117976 116772 267583 117612
 [751]  86039  85434  79531 121605 173051 215969 102543  79089  98875 103828
 [761] 152780 116331 102744 103884  96258  91375 159364 131357 130947 132368
 [771] 160708 170317 152155 107389  88013 103820 160787 128920 161519 155853
 [781] 176050 124038 185013 184631 121649 173068 100812  96379 216659 172748
 [791]  85605 178149 113630  98931  90658  97433  91056 151100 225803 141309
 [801] 131691 114567  94365  86227 115757 126554 213958 119310 107506 120841
 [811] 239159 158251 169207 156862 189286 137428 138084 100268 123674 186639
 [821] 157174 111133  91818 103176  92513 171915 133254 139561 144549 134818
 [831] 156843 129038 124977 127700  58901  97179 100191 122739 173400 198091
 [841] 144381 194307 253918 115983 116697 112933 106667 112454 129397 133161
 [851] 116183  97374 142530  97817 109909 134709 135313  90555     NA  83659
 [861]  96450 156418 127233  83180 173466 155796 170480 174375 179134 204309
 [871] 135792 187849 122794 105277 129804 114369  79745 145327 115270 124337
 [881]  91333  70249 128623 188504 101554  86680  85088 177826 164412 233934
 [891] 166633 271424  96014 194182 106494 154345     NA 145022 114454 167513
 [901] 184915 128734  88753 125089 225746 265580 304368 130120 313000 184926
 [911]  77669 166407  72275  74947  84770 164079  97521 137835 128292 183594
 [921] 133619 201168 223806 231774 198400 157519  73121  97450 134537  82310
 [931]  99047 132348  98363 221015  97598  72931  75639 129187 153035 238482
 [941]  92340 134253     NA 144379 148012 217286 106096  93958 128689 144317
 [951]  96590 162064 100496 181819 165950     NA 146865  83976 120560  71807
 [961] 100368 145632 153100  81895 150514  98224  62860     NA  95057  77260
 [971]     NA 209480 168960 146392 132309 113430 149116 117871 198303 278088
 [981] 206790 137308 166683     NA  85691 119803  84566 188437 130980 222225
 [991] 247346 294373 148623 336523 246875 159859 165292  91081 181594  95966
[1001] 110699 137663 211234 100641  75471 166058 307500 170277 132251 125622
[1011] 138162  78857 277659 196366 117932 176108 124999 132165  85956  97181
[1021] 118659  87140 154577  84855 212391 137682 170014  77559  88675  79641
[1031]  93876 122101 195805 111580  86665 161374 134555 120865 128891  82670
[1041] 160247     NA 135922  99702 176854  92475 125383 132506  84554 129129
[1051] 128258 184449 119968 169203 100171 167075 167130 103130 103641 191993
[1061]  92605 148704 152584 134117 215774     NA 171544 122221 116459 113062
[1071] 124649 124764 160097 175842  93074 100411  95163 133934 169222 177179
[1081]     NA 165398 200464 255123 173673 169549 200845 193641 136138 112531
[1091] 101134  79824  92824 106947  96840 126647  86729  94721 149603 156255
[1101]  94692 162160 154522 205318 167115 187058 190880  67884  83664 178396
[1111] 162206 182432 141957  89396 157551 150955 152625 204723 335019 268062
[1121] 184210 308430 179149 107756 159126 160829</code></pre>
</div>
</div>
</section>
<section id="figure-4-boxplot-median-income-distribution-examining-blackout-vs-no-blackouts" class="level2">
<h2 class="anchored" data-anchor-id="figure-4-boxplot-median-income-distribution-examining-blackout-vs-no-blackouts">Figure 4: Boxplot Median Income Distribution &amp; Examining Blackout vs No Blackouts</h2>
<ul>
<li>Boxplot of the distribution of income in impacted and unimpacted tracts.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> houston_blackout_combined, <span class="fu">aes</span>(<span class="at">x =</span> blackout,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">y =</span> median_income,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">col =</span> blackout)) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Blackout"</span>, <span class="at">y =</span> <span class="st">"Median Income"</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Houston Power Outage Experience Considering Median Income Distribution"</span>) <span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Accent"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Houston_Blackout_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>During the 2021 February string of storms in Houston, a number of homes were effected by power outages.</p>
<p>Approximately 168,956 homes were impacted by the blackout that occurred on February 16, 2023. As a result, a variety of individuals were affected by the blackout. An inspection regarding the relationship between Median Income collected from census data and experiencing a blackout. Only 373 homes were unaffected by the blackouts, but a wide distribution of median wealth were inside this categorization. As expected, Houston homes in census tract regions with lower median incomes experienced a greater number of blackouts compared to regions with higher median incomes.</p>
<p>This census data is limited to the time the census was recorded and does not contain up-to-date socioeconomic information for every household. Further limitations to this analysis are the visualizations. The data wrangling process utilized operations that altered the geometry of the data. Objects such as buildings were spliced into pieces when combining the data using <code>st_difference</code> and <code>st_intersection</code>. These steps were unavoidable because other functions like <code>st_intersects</code> did not preserve the datums sf sticky geometries and produce a sparse geometry binary predicate list (sgbp). SGBP are not compatible with the type of mapping exercised above and cannot be made into sf data frames.</p>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Wikipedia. 2021. “2021 Texas power crisis.” Last modified October 2, 2021. <a href="https://en.wikipedia.org/wiki/2021_Texas_power_crisis" class="uri">https://en.wikipedia.org/wiki/2021_Texas_power_crisis</a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 Copyright 2023, Sofia Ingersoll
  </li>  
</ul>
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/saingersoll">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>