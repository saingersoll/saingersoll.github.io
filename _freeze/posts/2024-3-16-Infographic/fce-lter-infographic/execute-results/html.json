{
  "hash": "3070f1fa12c8c84a20aa1324828476b3",
  "result": {
    "markdown": "---\ntitle: \"Florida Coastal Everglades LTER Infographic on Oligotrophic Sites\"\ndescription: \"\"\nauthors:\n  - name: Sofia Ingersoll \n    affiliation: Master of Environmental Data Science Program @ The Bren School (UCSB) \ndate: 2024-03-16\n#draft: true\nformat:\n  html:\n    code-fold: true\n    code-summary: \"Show the code\"\nembed-resources: true\ncategories: [Florida Coastal Everglades, Water Management, Water Quailty, Water Standards] # self-defined categories\n#citation: \n # url: https://search.dataone.org/view/https%3A%2F%2Fpasta.lternet.edu%2Fpackage%2Fmetadata%2Feml%2Fknb-lter-fce%2F1055%2F13\n  #url: https://aslopubs.onlinelibrary.wiley.com/doi/10.4319/lo.2006.51.1_part_2.0602\n  #url: https://brunj7.github.io/EDS-214-analytical-workflows/day_1.html/\n#image: \"posts/2024-3-16-Infographic/FCE_LTER.png\"\n#draft: true # setting this to `true` will prevent your post from appearing on your listing page until you're ready!\n---\n\n::: {.cell}\n::: {.cell-output-display}\n![](FCE_LTER.png){width=1122}\n:::\n:::\n\n# Exploring Estuaries in the Florida Coastal Everglades\n### Courtesy of the [FCE LTER]('https://search.dataone.org/view/https%3A%2F%2Fpasta.lternet.edu%2Fpackage%2Fmetadata%2Feml%2Fknb-lter-fce%2F1055%2F13')\n\nIn my infographic, I chose to explore a subset of nutrients that are the most essential for plant growth and the sites' geographical locations. This is because the data was not categorized in terms of water quality standards prior to downloading. I was curious to discover roughly what percentage of these estuaries had experienced nutrient deficiencies and if there were any regional trends that may be of interest to explore in depth later. I was also curious what the nutrient disparities of Oliogotrophic sites looked liked compared to Mesotrophic sites. For these reasons I selected a waffle chart, a map, and a dumbbell plot to answer my questions. I wanted the colors of the sites to represent the color-blind friendly colors associated with water bodies assigned those water quality classifications. Oligotrophic areas have less plant growth, so the waters are bluer compared to greener mesotrophic areas with more plant growth. \n\nI wanted to avoid information overload for my audience, so I really tried to limit the amount of text on my infographic. It seemed most important to explain why we're interest in phosphorous, dig a little into what the water quality standards meant, and define how this data is applied to protect estuaries. So, I included these components into my infographic and allowed my audience the space to observe the relatively obvious trends displayed.\n\nExpanding more on my stylistic choices, I wanted to simplify my infographic as much as possible. For this reason the dumbbell plot is the only visual with labels attached. I selected big, bolded, color-coded writing because this was the most complicated graph to interpret. There are seven variables being considered for two groups. I found stacking them and labeling them according to water nutrients instead of listing them on a y-axis was less noisy and easier to compare the different nutrients. Including a title and x axis explaining the dumbbell plot felt like the best decision for accessibility reasons. The colors applied in the title were choosen to match the entire color scheme of the infographic. Alt txt, captions, titles, and subtitles were included for all of the individual plots below. This is because I wanted my blog audience to have a full understanding of what each visual is representing. \n\n\n#### What makes these estuaries so special and where are they located?\n\nUpon some mapping, a concentration of Oligotrophic estuaries were observed in the western region of the FCE. Oligotrophic sites within the FCE exhibit a unique relationship between dissolved organics in mash estuaries and marine phosphorous. These sites' dissolved organics are dependent on interactions with the ocean in order to acquire marine phosphorous[1]('https://search.dataone.org/view/https%3A%2F%2Fpasta.lternet.edu%2Fpackage%2Fmetadata%2Feml%2Fknb-lter-fce%2F1055%2F13'). This is very unusual and a unique attribute of the region. Typically, this interaction is in the opposite direction. For this reason, these locations are tokened as \"upside-down\" estuaries. Marine phosphorous is an essential component to facilitate plant and algal growth in these \"upside-down\" marshes. However, there are very limited amounts of total phosphorous present in these locations, restricting ecosystem development. \n\n\n#### FCE Water Quality Standards\n\n[*Relating precipitation and water management to nutrient concentrations in the oligotrophic “upside-down” estuaries of the Florida Everglades*](https://aslopubs.onlinelibrary.wiley.com/doi/10.4319/lo.2006.51.1_part_2.0602) is the paper I utilized to categorize the FCE-LTER sites into Oligotrophic or Mesotrophic. \n\n#### What are they key differences between the quality classifications?\n\n**Oligotrophic**: Low water nutrients little to zero plant growth: Total Phosphorous < 0.025 (umol/L). These sites demonstrated higher total nitrogen concentrations and alkaline phosphatase activity. In all other water nutrient categories, sites classified as Oligotrophic had fewer nutrients.\n\n**Mesotrophic**: Moderate water nutrients with some plant growth: Total Phosphorous > 0.025 (umol/L).  For the majority of the water nutrient cateogries, sites classified as Mesotrophic had more nutrients.\n\nIf you're curious to learn more, I recommend checking out the paper linked above! It contains detailed documentation explaining why the threshold for Oligotrophic sites is a total phosphorous concentration of 0.25 (μmol/L). \n\n\n#### FCE LTER Data Collection \n\nThe Southeast Environmental Research Center (SERC) at Florida International University manages a network of 331 fixed sampling sites spread throughout the estuarine and coastal ecosystems of southern Florida. Surveying began in June of 1989: Biscayne Bay, Florida Bay, Whitewater Bay, Ten Thousand Islands, Rookery Bay, Estero Bay, and Pine Island Sound are sampled monthly. The Florida Keys National Marine Sanctuary (FKNMS) and the southwest shelf are sampled quarterly. \n\nThe objective of this long-term monitoring project is to aid in determinating if conditions within these estuaries and sanctuaries are improving or declining. FCE-LTER's data is intended to provide stakeholders the necessary information to achieve the goals established by the south Florida marine resource restoration and protection effort. These observations are used to establish baseline reference conditions for development of resource-based water quality standards.\n\nThere is curiosity around what are the key drivers of these \"upside-down\" estuaries. Currently, three hypothesis are under consideration at the FCE-LTER:\n\n   1: In nutrient-poor coastal systems, long-term changes in the quantity or quality of organic matter inputs will exert strong and direct controls on           estuarine productivity, because inorganic nutrients are at such low levels.\n\n   2: Interannual and long-term changes in freshwater flow controls the magnitude of nutrients and organic matter inputs to the estuarine zone, while            ecological processes in the freshwater marsh and coastal ocean control the quality and characteristics of those inputs.\n      \n  3: Long-term changes in freshwater flow (primarily manifest through management and Everglades restoration) will interact with long-term changes in the        climatic and disturbance (sea level rise, hurricanes, fires) regimes to modify ecological pattern and process across coastal landscapes.\n\n\n#### Visualizing the Data\nThe following code is a walk through of how I developed the three visualizations included in the infographic created in Canva above. I would like to note that this is an early rendition of this infographic. I plan on expanding this personal project to investigate the water management district boundaries and evaluate the different types policies in place, or lack there of, that could be potential drivers of lower nutrient levels in estuaries. \n\n#### Set up\n\n::: {.cell}\n\n```{.r .cell-code}\n# set default chunk options\nknitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)\n\nlibrary(sf)\nlibrary(tmap)\nlibrary(here)\nlibrary(waffle)\nlibrary(ggtext)\nlibrary(metajam)\nlibrary(leaflet)\nlibrary(cowplot)\nlibrary(showtext)\nlibrary(patchwork)\nlibrary(tidyverse)\nlibrary(tmaptools)\n```\n:::\n\n\n#### Load & clean data from DataONE\n\n::: {.cell}\n\n```{.r .cell-code}\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##                                import data                               ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n# ---- Store the filepath to use later :-) This helps us easily call our data set. ----\nurl <- \"https://cn.dataone.org/cn/v2/resolve/https%3A%2F%2Fpasta.lternet.edu%2Fpackage%2Fdata%2Feml%2Fknb-lter-fce%2F1055%2F13%2F9a61989893f4da76c0a7558a867af50d\"\n\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ----   download data from DataOne    ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# pull from DataONE and store in data folder\n#download_d1_data(url,\n #               path = here::here(\"posts\",\"data\"))\n\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ----     read in downloaded files.   ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# read in data scrapped \ndata_files <- read_d1_files(here::here(\"posts\",\"data\", 'https_pasta.lternet.edu_package_metadata_eml_knb-lter-fce_1055_13__LT_ND_Boyer_001__csv'),\n                            show_col_types = FALSE)\n\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ----       select data as subset     ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# subset for raw data \nraw_data <- data_files[4] %>% \n  as.data.frame(show_col_types = FALSE)\n\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---             clean data            ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# assigning -9999 as NA values \nraw_data[ raw_data == c(-9999, -9999.0, -9999.00, -9999.000) ] <- NA\n\n# cleaning df \nclean_data <- raw_data %>% \n  janitor::clean_names() \n\n# sub in base R to remove \"data\" from the beginning of the column names\nnames(clean_data) <- sub('^data', '', names(clean_data))\n\n# sub in base R to remove \"_\" from the beginning of the column names\nnames(clean_data) <- sub('^_', '', names(clean_data))\n\n# assign water quality status using total phosphorous column\nclean_data <- clean_data %>% \n  mutate(eutrophic_status = case_when(\n    na.omit((tp < 0.25) ~ \"Oligotrophic\"),\n    na.omit((tp >= 0.25) ~ \"Mesotrophic\")\n  )\n )\n```\n:::\n\n\n## Wrangling & Subsetting\n\n\n::: {.cell}\n\n```{.r .cell-code}\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##                       subset site wq data                               ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---         wq status subset          ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# subset oligo sites water nutrients\noligo_sites <- clean_data %>% \n  filter(eutrophic_status %in% \"Oligotrophic\") %>% \n  select(site, din, srp, apa, ton, si_o2, toc, tp, eutrophic_status, latdec, londec) %>% \n  na.omit()\n\n# subset meso sites water nutrients\nmeso_sites <- clean_data %>% \n  filter(eutrophic_status %in% \"Mesotrophic\") %>% \n  select(site, din, srp, apa, ton, si_o2, toc, tp, eutrophic_status, latdec, londec) %>% \n  na.omit()\n```\n:::\n\n\n### Map Data\n\n::: {.cell}\n\n```{.r .cell-code}\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##                           data for mapping                               ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---      combo sites for mapping      ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# sf object of combined site wq info\nfce_surveying_sites <- bind_rows(oligo_sites, meso_sites) %>%\n  group_by(eutrophic_status) %>% \n  st_as_sf(coords = c('londec','latdec')) %>% \n  mutate('Water Quality Status' = eutrophic_status)\n\n# set CRS \nfce_sites_shp <- st_crs(fce_surveying_sites, 4326)\n```\n:::\n\n\n### Waffle Data\n\n::: {.cell}\n\n```{.r .cell-code}\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##                           data for waffle plot                           ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---     combo sites count comparison ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ncombo_sites <- bind_rows(oligo_sites, meso_sites) %>%\n  group_by(eutrophic_status) %>%\n  # Count the number of sites for each category\n  summarise(n = n())\n```\n:::\n\n\n### Dumbbell Data\n\n::: {.cell}\n\n```{.r .cell-code}\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##                     data for dumbbell plot                               ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---       avg wq status nutrients     ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# summarize across all sites for plotting \noligo_sum <- oligo_sites %>% \n  summarize(\n    avg_tp = round(mean(tp), 3),\n    avg_din = round(mean(din), 3),\n    avg_srp = round(mean(srp), 3),\n    avg_apa = round(mean(apa), 3),\n    avg_ton = round(mean(ton), 3),\n    avg_si_o2 = round(mean(si_o2), 3),\n    avg_toc = round(mean(toc), 3)\n    )\n\n# summarize across all sites for plotting \nmeso_sum <- meso_sites %>% \n  summarize(\n    avg_tp = round(mean(tp), 3),\n    avg_din = round(mean(din), 3),\n    avg_srp = round(mean(srp), 3),\n    avg_apa = round(mean(apa), 3),\n    avg_ton = round(mean(ton), 3),\n    avg_si_o2 = round(mean(si_o2), 3),\n    avg_toc = round(mean(toc), 3)\n    )\n\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---  smallest avg wq status nutrients ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# summarize across all sites for plotting \noligo_sum_small <- oligo_sites %>% \n  summarize(\n    avg_tp = round(mean(tp), 3),\n    avg_srp = round(mean(srp), 3),\n    avg_apa = round(mean(apa), 3),\n    )\n\n# summarize  across all sites for plotting \nmeso_sum_small <- meso_sites %>% \n  summarize(\n    avg_tp = round(mean(tp), 3),\n    avg_srp = round(mean(srp), 3),\n    avg_apa = round(mean(apa), 3),\n    )\n\n# combine into a single df and assign wq status & nutrient to each observation\ncombo_avg_small <- bind_rows(oligo_sum_small, meso_sum_small,\n                       .id = \"category\") %>%\n  pivot_longer(-category, names_to = \"nutrient\",\n               values_to = \"Average\") %>%\n  mutate(nutrient = gsub(\"avg_\", \"\", nutrient),\n         category = factor(category,\n                           levels = c(\"1\", \"2\"),\n                           labels = c(\"Oligotrophic\", \"Mesotrophic\")))\n\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---    medium avg wq status nutrients ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# summarize  across all sites for plotting \noligo_sum_med <- oligo_sites %>% \n  summarize(\n    avg_din = round(mean(din), 3)\n    )\n\n# summarize  across all sites for plotting \nmeso_sum_med <- meso_sites %>% \n  summarize(\n    avg_din = round(mean(din), 3)\n    )\n\n# combine into a single df and assign wq status & nutrient to each observation\ncombo_avg_med <- bind_rows(oligo_sum_med, meso_sum_med,\n                       .id = \"category\") %>%\n  pivot_longer(-category, names_to = \"nutrient\",\n               values_to = \"Average\") %>%\n  mutate(nutrient = gsub(\"avg_\", \"\", nutrient),\n         category = factor(category,\n                           levels = c(\"1\", \"2\"),\n                           labels = c(\"Oligotrophic\", \"Mesotrophic\")))\n\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---      big avg wq status nutrients  ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# summarize  across all sites for plotting \noligo_sum_big <- oligo_sites %>% \n  summarize(\n    avg_ton = round(mean(ton), 3),\n    avg_si_o2 = round(mean(si_o2), 3)\n    )\n\n# summarize  across all sites for plotting \nmeso_sum_big <- meso_sites %>% \n  summarize(\n    avg_ton = round(mean(ton), 3),\n    avg_si_o2 = round(mean(si_o2), 3)\n    )\n\n# combine into a single df and assign wq status & nutrient to each observation\ncombo_avg_big <- bind_rows(oligo_sum_big, meso_sum_big,\n                       .id = \"category\") %>%\n  pivot_longer(-category, names_to = \"nutrient\",\n               values_to = \"Average\") %>%\n  mutate(nutrient = gsub(\"avg_\", \"\", nutrient),\n         category = factor(category,\n                           levels = c(\"1\", \"2\"),\n                           labels = c(\"Oligotrophic\", \"Mesotrophic\")))\n\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---  biggest avg wq status nutrients  ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# summarize  across all sites for plotting \noligo_sum_bige <- oligo_sites %>% \n  summarize(\n    avg_toc = round(mean(toc), 3)\n    )\n\n# summarize for plotting \nmeso_sum_bige <- meso_sites %>% \n  summarize(\n    avg_toc = round(mean(toc), 3)\n    )\n\n# combine into a single df and assign wq status & nutrient to each observation\ncombo_avg_bige <- bind_rows(oligo_sum_bige, meso_sum_bige,\n                       .id = \"category\") %>%\n  pivot_longer(-category, names_to = \"nutrient\",\n               values_to = \"Average\") %>%\n  mutate(nutrient = gsub(\"avg_\", \"\", nutrient),\n         category = factor(category,\n                           levels = c(\"1\", \"2\"),\n                           labels = c(\"Oligotrophic\", \"Mesotrophic\")))\n```\n:::\n\n\n## Customs\n#### Text\n\n::: {.cell}\n\n```{.r .cell-code}\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ----                        create plot labels                            ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ----      map labels        ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nm_title <- \"LTER Surveying Sites in the Florida Coastal Everglades\"\nm_subtitle <- \"Identifying <span style='color:#34A0A4;'>**Oligotrophic**</span> Estuaries\"\nm_legend <- \"Water Quality Status\"\nm_alt <- \"This is a map of Florida, highlighting the LTER water quality surveying sites located in the Florida Coastal Everglades. The sites are categorized into two groups: Oligotrophic (blue points) and Mesotrophic (green points). The cluster of Oligotrophic sites are observed in the western portion of the surveying area. Sites categorized as Oligotrophic contain low water nutrients, with zero to little plant growth. The total phosphorous content is < 0.025 (μmol/L). Sites categorized as Mesotrophic contain greater concentrations of total phosphorous, moderate water nutrients, and have some plant growth.\"\nm_caption <- \"Source: Henry Briceno. (2023). Surface Water Quality Monitoring Data (FCE LTER), \\nFlorida, USA, June 1989-ongoing\"\n\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ----      waffle labels        ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nw_title <- \"Proportions of FCE Estuaries Identified as <span style='color:#34A0A4;'>**Oligotrophic**</span>\"\nw_subtitle <- \"LTER Florida Coastal Everglades\"\nw_legend <- \"Water Quality Status\"\nw_alt <- \"This is a waffle chart of the proportion of water quality status across the LTER surveying sites located in the Florida Coastal Everglades. There is a signficantly larger portion of Mesotrophic sites. Roughly 70% total are classified as Mesotrophic. The sites are categorized into two groups: Oligotrophic (blue points) and Mesotrophic (green points). Sites categorized as Oligotrophic contain low water nutrients, with zero to little plant growth. The total phosphorous content is < 0.025 (μmol/L). Sites categorized as Mesotrophic contain greater concentrations of total phosphorous, moderate water nutrients, and have some plant growth.\"\nw_caption <- \"Source: Henry Briceno. (2023). Surface Water Quality Monitoring Data (FCE LTER), \\nFlorida, USA, June 1989-ongoing\"\n\n\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ----      dumbbell labels        ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nd_title <- \"<span style='color:#3B1608;'>**Investigating Water Nutrient Trends in**</span> <span style='color:#34A0A4;'>**Oligotrophic**</span> and <span style='color:#AACC00;'>**Mesotrophic**</span> <span style='color:#3B1608;'>**Estuaries**</span>\"\n  #\"Investigating Water Nutrients (umol/L) in <span style='color:#34A0A4;'>**Oligotrophic**</span> and <span style='color:#AACC00;'>**Mesotrophic**</span>\"\nd_subtitle <- \"LTER Surveying Sites in the Florida Coastal Everglades\"\nd_alt <- \"This is a dumbbell plot comparing the average water nutrient levels of Oligotrophic and Mesotrophic sites. This data is taken from the LTER water quality surveying sites located in the Florida Coastal Everglades. The sites are categorized into two groups: Oligotrophic (blue points) and Mesotrophic (green points). Sites categorized as Oligotrophic contain low water nutrients, with zero to little plant growth. The total phosphorous content is < 0.025 (μmol/L).These sites demonstrated higher total nitrogen concentrations and alkaline phosphatase activity. In all other water nutrient categories, sites classified as Oligotrophic had fewer nutrients. Sites categorized as Mesotrophic contain greater concentrations of total phosphorous, moderate water nutrients, and have some plant growth.\"\nd_caption <- \"Source: Henry Briceno. (2023). Surface Water Quality Monitoring Data (FCE LTER), \\nFlorida, USA, June 1989-ongoing\"\n```\n:::\n\n\n#### Colors & Typeface \n\n::: {.cell}\n\n```{.r .cell-code}\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ----                        plot customizations                           ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ----        wq status palette        ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# water quality status palette \nstatus_pal <- c(\"Oligotrophic\" = \"#34A0A4\", \"Mesotrophic\" = \"#AACC00\")\n\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ----              fonts              ----  \n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# enable {showtext} for rendering \nshowtext_auto()\n# import fonts \nfont_add_google(name = \"Josefin Sans\", family = \"josefin\")\nfont_add_google(name = \"Sen\", family = \"sen\")\n```\n:::\n\n\n\n# Map of LTER Surveying Sites in the FCE\n\n\n::: {.cell}\n\n```{.r .cell-code}\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##                                map sites                                 ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nbbox_florida <- st_bbox(c(xmin = -87.6347, ymin = 24.3963, xmax = -79.9743, ymax = 31.001))\n\ntmap_mode('plot')\n\nmap <- tm_shape(fce_surveying_sites, bbox = bbox_florida) +\n  \n  tm_basemap(leaflet::providers$Esri.WorldImagery) + \n  \n  tm_bubbles(col = 'Water Quality Status',\n             palette = status_pal,\n             legend.title = m_legend\n             ) +\n  \n  tm_scalebar(position = c('left', 'bottom')) +\n  \n  tm_layout(\n    \n    alt.text = m_alt,\n    \n    main.title = m_title,\n    \n    subtitle = m_subtitle,\n    \n    caption = m_caption,\n    \n    main.title.position = \"center\",\n    \n    main.title.size = 19,\n    # match my website colors\n    main.title.color = \"#293F2C\",\n    \n    main.title.fontface = \"Josefin Sans\",\n    \n    main.title.fontfamily = \"josefin\",\n     # match my website colors\n    bg.color = \"#FDFBF7\",\n    outer.bg.color = \"#FDFBF7\"\n  ) \n  \n\nmap\n```\n\n::: {.cell-output-display}\n![](fce-lter-infographic_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n# Waffle Chart\n\n::: {.cell}\n\n```{.r .cell-code}\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##                            waffle  sites                                 ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nggplot(combo_sites, aes(fill = eutrophic_status,\n                        values = n)) +\n  \n  geom_waffle(color = \"white\",\n              size = 0.3, \n              n_rows = 10,\n              make_proportional = TRUE,\n              flip = TRUE\n              ) +\n  \n  labs(title = w_title,\n       subtitle = w_subtitle,\n       caption = w_caption,\n       alt = w_alt) +\n  \n  coord_equal() +\n  \n  scale_fill_manual(values = status_pal) +\n  \n  theme_void() +\n  \n  theme(\n   plot.title = element_markdown(family = \"josefin\",\n                              face = \"bold\",\n                              size = 14,\n                              hjust = 0.5,\n                              vjust = 6),\n   \n   plot.subtitle = element_text(family = \"sen\",\n                                size = 12,\n                                 hjust = 0.5),\n   \n   plot.caption = element_text(family = \"sen\",\n                                size = 9,\n                                 hjust = 0.5,\n                               vjust = -0.9),\n  \n    legend.position = \"bottom\",\n    \n    legend.title = element_blank(),\n    \n    # legend text customs \n    legend.text = element_text(family = \"josefin\",\n                               size = 12),\n   \n     # match my website colors\n    plot.background = element_rect(color = '#FDFBF7',\n                                  fill = '#FDFBF7'),\n    # space on the side of the plot\n    plot.margin = margin(t = 1, r = 1, b = 1, l = 1, \"cm\")\n   \n  \n  ) \n```\n\n::: {.cell-output-display}\n![](fce-lter-infographic_files/figure-html/unnamed-chunk-11-1.png){width=518.4}\n:::\n:::\n\n\n\n# Dumbbell Plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##                     build dumbbell pieces                                ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---  smallest avg wq status nutrients ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nsmall_dumb <- ggplot(combo_avg_small,\n       aes(x = Average,\n           y = nutrient, \n           color = category)) +\n  \n  geom_point(size = 6) +\n  # Draw lines between points\n  geom_line(aes(group = nutrient),\n            linewidth = 2) +\n  \n  scale_color_manual(values = c(\"Oligotrophic\" = \"#34A0A4\", \"Mesotrophic\" = \"#AACC00\")) +\n  \n  labs(title =\"Total Phosphorous, Soluble Reactive Phosphorous, & Alkaline Phosphatase Activity\",\n       x = \"Water Nutrients μmol/L\",\n       color = \"Site Type\")  +\n  \n  theme_classic() +\n  \n  \n  theme(plot.title = element_text(family = \"josefin\",\n                                  face = \"bold\",\n                                  size = 15,\n                                  color = '#3B1608',\n                                  hjust = 0.5,\n                                  vjust = 0.5),\n        \n        legend.position = 'none',\n        \n        axis.title.y = element_blank(),\n        \n        axis.text.y = element_blank(),\n        \n        axis.text.x = element_text(family = \"josefin\",\n                                   face = \"bold\",\n                                   size = 12,\n                                   color = '#3B1608',\n                                   angle = 0,\n                                   vjust = 0.8),\n        \n        axis.title.x = element_blank(),\n        \n        margin(t = 2,\n               r = 0,\n               b = 1,\n               l = 2),\n        \n        axis.ticks.y = element_blank(),\n        \n        panel.border = element_blank(),\n        \n        axis.line.y = element_blank()\n        \n        \n  ) \n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---    medium avg wq status nutrients ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nmed_dumb <- ggplot(combo_avg_med,\n                   aes(x = Average,\n                       y = nutrient, \n                       color = category)) +\n  \n  geom_point(size = 6) +\n  # Draw lines between points\n  geom_line(aes(group = nutrient),\n            linewidth = 2) +\n  \n  scale_color_manual(values = c(\"Oligotrophic\" = \"#34A0A4\", \"Mesotrophic\" = \"#AACC00\")) +\n  \n  labs(title = \"Dissolved Inorganic Nitrogen\",\n       x = \"Water Nutrients μmol/L\",\n       color = \"Site Type\")  +\n  \n  theme_classic() +\n  \n  theme(plot.title = element_text(family = \"josefin\",\n                                  face = \"bold\",\n                                  size = 15,\n                                  color = '#3B1608',\n                                  hjust = 0.5,\n                                  vjust = 0.5),\n        \n        legend.position = 'none',\n        \n        \n        axis.title.y = element_blank(),\n        \n        axis.text.y = element_blank(),\n        \n        axis.text.x = element_text(family = \"josefin\",\n                                   face = \"bold\",\n                                   size = 12,\n                                   color = '#3B1608',\n                                   angle = 0,\n                                   vjust = 0.8),\n        \n        axis.title.x = element_blank(),\n        \n        margin(t = 2,\n               r = 0,\n               b = 1,\n               l = 2),\n        \n        axis.ticks.y = element_blank(),\n        \n        panel.border = element_blank(),\n        \n        axis.line.y = element_blank()\n        \n  ) \n\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---      big avg wq status nutrients  ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nbig_dumb <- ggplot(combo_avg_big,\n                   aes(x = Average,\n                       y = nutrient, \n                       color = category)) +\n  \n  geom_point(size = 6) +\n  # Draw lines between points\n  geom_line(aes(group = nutrient),\n            linewidth = 2) +\n  \n  scale_color_manual(values = c(\"Oligotrophic\" = \"#34A0A4\", \"Mesotrophic\" = \"#AACC00\")) +\n  \n  labs(title = \"Total Organic Nitrogen & Silicon Dioxide in Water\",\n       x = \"Water Nutrients μmol/L\",\n       color = \"Site Type\")  +\n  \n  theme_classic() +\n  \n  theme(plot.title = element_text(family = \"josefin\",\n                                  face = \"bold\",\n                                  size = 15,\n                                  color = '#3B1608',\n                                  hjust = 0.5,\n                                  vjust = 0.5),\n        \n        legend.position = 'none',\n        \n        \n        axis.title.y = element_blank(),\n        \n        axis.text.y = element_blank(),\n        \n        axis.text.x = element_text(family = \"josefin\",\n                                   face = \"bold\",\n                                   size = 12,\n                                   color = '#3B1608',\n                                   angle = 0,\n                                   vjust = 0.8),\n        \n        axis.title.x = element_blank(),\n        \n        margin(t = 2,\n               r = 0,\n               b = 1,\n               l = 2),\n        \n        axis.ticks.y = element_blank(),\n        \n        panel.border = element_blank(),\n        \n        axis.line.y = element_blank()\n  ) \n\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---  biggest avg wq status nutrients  ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nbige_dumb <- ggplot(combo_avg_bige,\n                    aes(x = Average,\n                        y = nutrient, \n                        color = category)) +\n  \n  geom_point(size = 6) +\n  # Draw lines between points\n  geom_line(aes(group = nutrient),\n            linewidth = 2) + \n  \n  scale_color_manual(values = c(\"Oligotrophic\" = \"#34A0A4\", \"Mesotrophic\" = \"#AACC00\")) +\n  \n  labs(title = \"Total Organic Carbon\",\n       x = \"Water Nutrients μmol/L\",\n       color = \"Site Type\")  +\n  \n  theme_classic() +\n  \n  theme(\n    plot.title = element_text(family = \"josefin\",\n                              face = \"bold\",\n                              size = 15,\n                              color = '#3B1608',\n                              hjust = 0.5,\n                              vjust = 0.5),\n    \n    axis.title.x = element_text(family = \"josefin\",\n                                face = \"bold\",\n                                size = 18,\n                                angle = 0,\n                               color = '#3B1608',\n                                vjust = 0.8,\n                                hjust = 0.5),\n    \n    axis.text.x = element_text(family = \"josefin\",\n                               face = \"bold\",\n                               color = '#3B1608',\n                               size = 10,\n                               angle = 0,\n                               vjust = 0.5,\n                               hjust = 0.5),\n    \n    \n    axis.title.y = element_blank(),\n    \n    axis.text.y = element_blank(),\n    \n    legend.position = \"none\",\n    \n    margin(t = 0,\n           r = 0,\n           b = 1,\n           l = 2),\n    \n    axis.ticks.y = element_blank(),\n    \n    panel.border = element_blank(),\n    \n    axis.line.y = element_blank()\n    \n  ) \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n##                          combine dumbbells                               ----\n##~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---     saving subtitlecowplot obj    ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# Create text grobs for the titles and subtitles\nsubtitle_grob <- cowplot::ggdraw() + cowplot::draw_text(d_subtitle, x = 0.5, y = 0.5, hjust = 0.5, size = 20, color = '#3B1608')\n\n\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---           combine dumbbells       ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ndumb <- small_dumb / med_dumb / big_dumb /bige_dumb +\n   plot_layout(nrow = 4)\n\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---   store in a grid w/ subtitle    ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# Combine the text panel and the plot stack\nfinal_plot <- plot_grid(\n  NULL,\n  subtitle_grob,\n  dumb,\n  nrow = 3,\n  rel_heights = c(0.1, 0.05, 0.75)\n) +\n  \n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n# ---           add custom text         ----\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  # Include markdown title \nggplot2::labs(title = d_title,\n              caption = d_caption,\n              alt = d_alt) +\ntheme(\n  \n  plot.title = element_markdown(family = \"josefin\",\n                                  face = \"bold\",\n                                  size = 25,\n                                  hjust = 0.2,\n                                  vjust = -.5)\n  )\n\n# Display the final plot\nfinal_plot\n```\n\n::: {.cell-output-display}\n![](fce-lter-infographic_files/figure-html/unnamed-chunk-13-1.png){width=1344}\n:::\n:::",
    "supporting": [
      "fce-lter-infographic_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}